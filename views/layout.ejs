<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Product</title>
    <link rel="stylesheet" href="/public/css/main.css">
    <link rel="stylesheet" href="/public/css/forms.css">
    <link rel="stylesheet" href="/public/css/product.css">

    <%- style %>
    <%- meta %>
</head>

<body>
    <header class="main-header">
        <nav class="main-header__nav">
            <ul class="main-header__item-list">
                <li class="main-header__item"><a href="/">Shop</a></li>
                <li class="main-header__item"><a href="/products">Products</a></li>
                <li class="main-header__item"><a href="/cart">Cart</a></li>
                <li class="main-header__item"><a href="/orders">Orders</a></li>
                <li class="main-header__item"><a href="/categories">Categories</a></li>
                <!-- <li class="main-header__item"><a href="/admin/add-product">Add Products</a></li>
                <li class="main-header__item"><a href="/admin/products">Admin Products</a></li> -->
            </ul>
            <ul class="main-header__item-list">
                <% if (isAuthenticated) { %>
                    <li class="main-header__item">
                        <form method="POST" action="/logout">
                            <%- _csrfForm %>
                                <button type="submit">Logout</button>
                        </form>
                    </li>
                    <% } else { %>
                        <li class="main-header__item">
                            <a href="/login">Login</a>
                        </li>
                        <li class="main-header__item">
                            <a href="/signup">Signup</a>
                        </li>
                        <% } %>
            </ul>
        </nav>
    </header>

    <div>
        <% if(flash) { %>
            <% if(flash.success && flash.success.length> 0) { %>
                <ul class="alert-success" style="background-color: lightgreen">
                    <li>
                        <%= flash.success[0]%>
                    </li>
                </ul>
                <% } else if(flash.error && flash.error.length> 0) { %>
                    <ul class="alert-danger" style="background-color: lightcoral">
                        <% for (let errorMsg of flash.error) { %>
                            <li>
                                <%=errorMsg%>
                            </li>
                            <% } %>
                    </ul>
                    <% } %>
                        <% } %>
    </div>


    <main>
        <%- body %>
    </main>

    <footer>

    </footer>
    <script type="module">
        import hotwiredTurbo from 'https://cdn.skypack.dev/@hotwired/turbo';
        document.addEventListener("turbo:before-cache", function () {
            //console.log('alow');
        });
    </script>
     <%- script %>
</body>

</html>